#include <stdio.h>

\\Structure to store course details
struct Course
{
  char name[30];
  float grade;
  int credits;
};

//Structure to store student details
struct Student
{
  int roll;
  char name[30];
  int count;
  struct Course courses[10]; //simple array
};

//Function to perform the action of adding a course
void add Course(struct Student *s)
{
  printf("Course name:");
  scanf("%s",&->courses[s->count].name);

  printf("Credits:");
  scanf("%d",&s->courses[s->count].credits);

  s->courses[s->count].grade=0; //initially
  s->count++;

  printf("Course added!\n");
}

//Function to perform the action of dropping a course
void dropCourse(struct Student *s)
{
  if(s->count==0)
   {
       printf("No courses to drop!\n");
       return;
   }

  int index;
  printf("Enter course number to drop (1 to %d:",s->count);
  scanf("%d",&index);
  index--;

  if(index<0||index>=s->count)
  {
      printf("invalid course number!\n");
      return;
  }

  for(int i=index;i<s->count-1;i++)
  {
     s->courses[i]=s->courses[i+1];
  }

  s->count--;
  printf("Course dropped!\n);

}

//function to grade a course
void entergrades(struct Student *s)
{
    for (int i = 0; i < s->count; i++)
    {
         printf("Enter grade for %s: ", s->courses[i].name);
         scanf("%f",&s->courses[i].grade);
    }
}

//function to calculate the gpa
float calcGPA(struct Student s)
{
     float total = 0,credit_sum=0;
     for (int i = 0; i < s.count; i++)
     {
          total += s.courses[i].grade * s.courses[i].credits;
          credit_sum+=s.course[i].credits;
    }
    return (credit_sum==0)?0:total/credit_sum;
}
//Main Function
int main() 
{
    struct Student s;
    s.count = 0;

    printf("Enter roll number: ");
    scanf("%d", &s.roll);

    printf("Enter name: ");
    scanf("%s", s.name);

    int choice;

    while (1) 
    {
        printf("\n1. Add Course\n2. Drop Course\n3. Enter Grades\n4. Calculate GPA\n5. Exit\nChoose: ");
        scanf("%d", &choice);

        if (choice == 1) addCourse(&s);
        else if (choice == 2) dropCourse(&s);
        else if (choice == 3) enterGrades(&s);
        else if (choice == 4) printf("GPA = %.2f\n", calcGPA(s));
        else break;
    }

    return 0;
}

